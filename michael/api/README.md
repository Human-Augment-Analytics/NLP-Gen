# Law Data and Design VIP

# API
* `generate_dataset.py`: will iterate over all cases on clearinghouse.net and produces a pickle file(a serialized format for storing python objects) that contains all of the cases as Case objects(see Case object documentation in clearinghouse_api documentation). The pickle file holds a list of Case objects. To open a pickle file and find cases which only contains complaints, you can use either `summarizers/get_complaints.py` and point it to the generated pickle file or use the following block of code:

```python
import pickle
with open(pickle_path, 'rb') as cases_file:
    cases = pickle.load(cases_file)
complaint_cases = []
for case in cases:
    if set(case.available_documents) == {'Complaint (any)'}:
        complaint_cases.append(case)
#complaint cases now holds cases which only contain complaints.
```

* `clearinghouse_api` and `ch_openapi.yaml`: `ch_openapi.yaml` defines an [OpenAPI](https://spec.openapis.org/oas/latest.html) spec for the Civil Rights Clearinghouse API. Using this spec, you can generate the `clearinghouse_api` folder, which contains code automatically generated by the [OpenAPI Python Client Generator](https://openapi-generator.tech/). The generated code has automatically generated python code for retrieving cases from the Civil Rights Clearinghouse and storing them in `Case` objects. The generated code automatically stores helpful metadata about cases as well as all available summaries about the cases. The generated documentation contains code samples of how to use the api to get a case given a `case_id` between 1 and 45728 and store it in a `Case` object as well as a brief installation guide for the api. Once the api is installed, you can use it to scrape clearinghouse.net for cases.